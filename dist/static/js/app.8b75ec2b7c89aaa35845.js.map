{"version":3,"sources":["webpack:///./src/components/header/config.js","webpack:///./src/common/js/loding.js","webpack:///./src/store/getters.js","webpack:///./src/common/js/auth.js","webpack:///./src/store/modules/user.js","webpack:///./src/api/login.js","webpack:///./src/store/modules/nav.js","webpack:///./src/store/index.js","webpack:///./src/common/js/request.js","webpack:///src/components/header/m-header.vue","webpack:///./src/components/header/m-header.vue?2cd8","webpack:///./src/components/header/m-header.vue","webpack:///src/App.vue","webpack:///./src/App.vue?203d","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/router-intercept.js","webpack:///./src/main.js","webpack:///./src/api/config.js"],"names":["headerTop","name","path","id","nav","rolesNav","loading","endLoading","close","store_getters","token","state","user","avatar","roles","isSetNav","navAll","TokenKey","modules_user","mutations","SET_TOKEN","SET_NAME","SET_ROLES","actions","Login","_ref","userInfo","commit","promise_default","a","resolve","username","password","pwd","request","url","method","data","FUserName","FPassWord","then","res","suppliersess_id","js_cookie_default","set","catch","error","console","log","_ref2","role_id","user_name","FedLogOut","_ref3","remove","getters","modules_nav","SET_NAV","addNav","SETNAV_STATUS","status","pushNav","reject","newNav","concat","vue_esm","use","vuex_esm","src_store","Store","modules","Object","NODE_ENV","API_ROOT","service","_axios_0_17_1_axios_default","create","baseURL","timeout","interceptors","config","lib_default","stringify","headers","element_ui_common","lock","text","background","response","code","api_config","message","msg","type","duration","LOGIN_CODE","dispatch","location","reload","navActive","computed","extends_default","userName","watch","$route","to","this","getRouterActive","mounted","methods","indexRouter","meta","loginOut","undefined","header_m_header","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","staticStyle","margin","on","click","_e","_l","item","class","attrs","directives","rawName","value","expression","staticRenderFns","App","components","Mheader","__webpack_require__","normalizeComponent","m_header","ssrContext","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","vue_router_esm","router","routes","component","e","bind","Promise","all","redirect","beforeEach","from","next","get","productionTip","element_ui_common_default","vue_lazyload_default","preLoad","attempt","el","store","template","d","__webpack_exports__","ERR_CODE","RES_CODE","TABLE","pageSize"],"mappings":"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","file":"static/js/app.8b75ec2b7c89aaa35845.js","sourcesContent":["export const headerTop = [\n    {\n        name: '登录',\n        path: '/login',\n        id: 1\n    },\n    {\n        name: '设置',\n        path: '/setting',\n        id: 2,\n    },\n    {\n        name: '收藏',\n        path: '/',\n        id: 3\n    },\n    {\n        name: '帮助',\n        path: '/',\n        id: 4\n    }\n];\nexport const nav = [\n    {\n        name: '首页',\n        path: '/',\n        id: 5\n    },\n    {\n        name: '采购订单',\n        path: '/purchaseOrder',\n        id: 6\n    },\n    {\n        name: '发票管理',\n        path: '/invoice',\n        id: 7\n    },\n\n    {\n        name: '应收帐款',\n        path: '/due',\n        id: 10\n    }\n]\nexport const rolesNav = [\n    {\n        name: '贴现申请',\n        path: '/beforemoney',\n        id: 8\n    },\n    {\n        name: '资金计划',\n        path: '/plan',\n        id: 9\n    },\n]\n\n\n// WEBPACK FOOTER //\n// ./src/components/header/config.js","import {Loading} from 'element-ui'\n\nlet loading\n\nexport function startLoading() {\n    loading = Loading.service({\n        lock: true,\n        text: '加载中……',\n        background: 'rgba(0, 0, 0, 0.7)'\n    })\n}\n\nexport function endLoading() {\n    loading.close()\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/loding.js","const getters = {\n    token: state => state.user.token,\n    avatar: state => state.user.avatar,\n    name: state => state.user.name,\n    roles: state => state.user.roles,\n    isSetNav: state => state.nav.isSetNav,\n    nav: state => state.nav.navAll,\n}\nexport default getters\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","import Cookies from 'js-cookie';\n\nconst TokenKey = 'suppliersess_id';\n\nexport function getToken() {\n    return Cookies.get(TokenKey);\n}\n\nexport function setToken(token) {\n    return Cookies.set(TokenKey, token);\n}\n\nexport function removeToken() {\n    return Cookies.remove(TokenKey);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/auth.js","import {login, getInfo} from '@/api/login';\nimport {setToken,removeToken} from '@/common/js/auth';\n\nconst user = {\n    state: {\n        token: '',\n        name: '',\n        roles: ''\n    },\n    mutations: {\n        SET_TOKEN: (state, token) => {\n            state.token = token;\n        },\n        SET_NAME: (state, name) => {\n            state.name = name;\n        },\n        SET_ROLES: (state, roles) => {\n            state.roles = roles;\n        }\n    },\n    actions: {\n        Login({commit}, userInfo) {\n            return new Promise((resolve) => {\n                login(userInfo.user, userInfo.pwd).then(res => {\n                    commit('SET_TOKEN', res.data.suppliersess_id);\n                    setToken(res.data.suppliersess_id);\n                    resolve(res);\n                }).catch(error => {\n                    console.log(error)\n                })\n            })\n        },\n        userInfo({commit}) {\n            return new Promise((resolve) => {\n                getInfo().then(res => {\n                    commit('SET_ROLES', res.data.role_id);\n                    commit('SET_NAME', res.data.user_name);\n                    resolve(res);\n                }).catch(error => {\n                    console.log(error);\n                })\n            })\n        },\n        // 前端 登出\n        FedLogOut({ commit }) {\n            return new Promise(resolve => {\n                commit('SET_TOKEN', '');\n                removeToken();\n                resolve()\n            })\n        }\n    },\n    getters: {}\n}\nexport default user;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/user.js","import request from '@/common/js/request'\n\nexport function login(username, password) {\n    return request({\n        url: '/user/login',\n        method: 'POST',\n        data: {\n            FUserName: username,\n            FPassWord: password\n        }\n    })\n}\n\nexport function checklogin() {\n    return request({\n        url: '/user/checklogin',\n        method: 'POST'\n    })\n}\n\nexport function getInfo() {\n    return request({\n        url: '/user/getuserinfo',\n        method: 'POST'\n    })\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/login.js","import {setToken} from '@/common/js/auth';\nimport {nav, rolesNav} from \"@/components/header/config\";\n\nconst navs = {\n    state: {\n        navAll: nav\n    },\n    mutations: {\n        SET_NAV: (state, addNav) => {\n            state.navAll = addNav;\n        },\n        SETNAV_STATUS: (state, status) => {\n            state.isSetNav = status;\n        }\n    },\n    actions: {\n        pushNav({commit}, roles) {\n            return new Promise((resolve, reject) => {\n                if (roles == '1') {\n                    let newNav = nav.concat(rolesNav);\n                    commit('SET_NAV', newNav);\n                } else {\n                    commit('SET_NAV', nav);\n                }\n                resolve();\n            })\n        }\n    }\n}\nexport default navs;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/nav.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport getters from './getters'\nimport user from './modules/user'\nimport nav from './modules/nav'\nVue.use(Vuex)\n\nconst store = new Vuex.Store({\n    modules: {\n        user,\n        nav\n    },\n    getters\n})\n\nexport default store\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import axios from 'axios';\nimport { Message, MessageBox } from 'element-ui';\nimport { startLoading, endLoading } from './loding';\nimport {RES_CODE,ERR_CODE} from \"@/api/config\";\nimport store from '@/store'\nimport Qs from 'qs'\n// 创建axios实例\nconsole.log(process.env)\nconst service = axios.create({\n    baseURL: process.env.API_ROOT, // api的base_url\n    timeout: 15000, // 请求超时时间\n    // withCredentials: true           // 请求带上cookie\n})\n\n// request拦截器\nservice.interceptors.request.use(config => {\n    config.data = Qs.stringify(config.data);\n    config.headers['Content-type'] = 'application/x-www-form-urlencoded;charset=UTF-8';\n    startLoading();\n    return config;\n}, error => {\n    // Do something with request error\n    console.log(error); // for debug\n    Promise.reject(error);\n})\n\n// respone拦截器\nservice.interceptors.response.use(\n    response => {\n        endLoading();\n        const res = response.data\n        if (res.code !== RES_CODE) {\n            Message({\n                message: res.msg,\n                type: 'error',\n                duration: 5 * 1000\n            })\n\n            if (res.code === ERR_CODE.LOGIN_CODE || res.code === 50012 || res.code === 50014) {\n                store.dispatch('FedLogOut').then(() => {\n                    location.reload();// 为了重新实例化vue-router对象 避免bug\n                })\n                // MessageBox.confirm('你已被登出，可以取消继续留在该页面，或者重新登录', '确定登出', {\n                //     confirmButtonText: '重新登录',\n                //     cancelButtonText: '取消',\n                //     type: 'warning'\n                // }).then(() => {\n                //\n                // })\n            }\n            return Promise.reject('error');\n        } else {\n            return response.data;\n        }\n    },\n    error => {\n        endLoading();\n        console.log('err' + error)// for debug\n        Message({\n            message: error.message,\n            type: 'error',\n            duration: 5 * 1000\n        })\n        return Promise.reject(error);\n    }\n)\n\nexport default service;\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/request.js","<template>\n    <div class=\"m-header\">\n        <div class=\"line\"></div>\n        <div class=\"header-top page-w block-center flex just-center\">\n            <div></div>\n            <div class=\"top-nav flex\">\n                <div v-if=\"userName != ''\" class=\"flex\">\n                    <div>您好,{{userName}}</div>\n                    <div @click=\"loginOut\" class=\"hover-color shoushi\" style=\"margin:0 10px\">退出</div>\n                </div>\n                <div class=\"top-nav-item shoushi \" v-for=\"item in headerTop\" v-if=\"item.id == 1 ? userName != '' ? false : true : true\">\n                    <div class=\"hover-color\"\n                         :class=\"navActive == item.id ? 'active ' : ''\">\n                        <router-link :to=\"item.path\">{{item.name}}</router-link>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"header-nav page-w block-center flex just-center flex-y-end\">\n            <div class=\"logo\">\n                <router-link to=\"/\">供应商协同门户</router-link>\n            </div>\n            <div class=\"nav flex\">\n                <div class=\"nav-text shoushi hover-color\"\n                     v-for=\"item in nav\"\n                     :class=\"navActive == item.id ? 'active ' : ''\"\n                >\n                    <router-link :to=\"item.path\" class=\"hover-color\">\n                        {{item.name}}\n                    </router-link>\n                    <div class=\"active-bor block-center\" v-show=\"navActive == item.id\"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {headerTop} from './config';\n    import {mapActions, mapState, mapMutations, mapGetters} from 'vuex'\n    import {loginout} from \"@/api/login\";\n\n    export default {\n        name: \"Mheader\",\n        data() {\n            return {\n                headerTop: headerTop,\n                navActive: 1\n            }\n        },\n        computed: {\n            ...mapState({\n                nav: state => state.nav.navAll,\n                userName: state => state.user.name\n            }),\n        },\n        watch: {      //监听路由变化\n            $route(to) {\n                this.getRouterActive(to);\n            }\n        },\n        mounted() {\n            this.getRouterActive();\n        },\n        methods: {\n            getRouterActive(to) {\n                var indexRouter = to || this.$route;\n                this.navActive = indexRouter.meta.id || 0;\n            },\n            loginOut() {\n                loginout();\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"stylus\">\n    @import \"~common/stylus/variable\"\n    .m-header\n        height 130px\n        background: $color-white\n\n    .line\n        height: 8px\n        background: $color-main\n\n    .header-top\n        font-size: $font-size-small\n        margin-top: 4px\n        .top-nav-item > div\n            padding: 0 8px\n            border-left: 1px solid $color-main\n\n    .active\n        color $color-main\n\n    .header-nav\n        margin-top: 20px\n        .logo\n            color $color-main\n            font-size 30px\n            font-weight bold\n        .nav\n            color #222222\n            .nav-text\n                margin: 0 20px\n                font-size: $font-size-medium-x\n                .active-bor\n                    width 20px\n                    height 4px\n                    border-radius 4px\n                    background $color-main\n                    margin-top 4px\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/header/m-header.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-header\"},[_c('div',{staticClass:\"line\"}),_vm._v(\" \"),_c('div',{staticClass:\"header-top page-w block-center flex just-center\"},[_c('div'),_vm._v(\" \"),_c('div',{staticClass:\"top-nav flex\"},[(_vm.userName != '')?_c('div',{staticClass:\"flex\"},[_c('div',[_vm._v(\"您好,\"+_vm._s(_vm.userName))]),_vm._v(\" \"),_c('div',{staticClass:\"hover-color shoushi\",staticStyle:{\"margin\":\"0 10px\"},on:{\"click\":_vm.loginOut}},[_vm._v(\"退出\")])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.headerTop),function(item){return (item.id == 1 ? _vm.userName != '' ? false : true : true)?_c('div',{staticClass:\"top-nav-item shoushi \"},[_c('div',{staticClass:\"hover-color\",class:_vm.navActive == item.id ? 'active ' : ''},[_c('router-link',{attrs:{\"to\":item.path}},[_vm._v(_vm._s(item.name))])],1)]):_vm._e()})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"header-nav page-w block-center flex just-center flex-y-end\"},[_c('div',{staticClass:\"logo\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"供应商协同门户\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"nav flex\"},_vm._l((_vm.nav),function(item){return _c('div',{staticClass:\"nav-text shoushi hover-color\",class:_vm.navActive == item.id ? 'active ' : ''},[_c('router-link',{staticClass:\"hover-color\",attrs:{\"to\":item.path}},[_vm._v(\"\\n                    \"+_vm._s(item.name)+\"\\n                \")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.navActive == item.id),expression:\"navActive == item.id\"}],staticClass:\"active-bor block-center\"})],1)}))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-60a6e528\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/header/m-header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-60a6e528\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./m-header.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./m-header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./m-header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-60a6e528\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./m-header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-60a6e528\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/header/m-header.vue\n// module id = null\n// module chunks = ","<template>\n    <div id=\"app\">\n        <mheader></mheader>\n        <router-view/>\n    </div>\n</template>\n\n<script>\n    import Mheader from '@/components/header/m-header'\n\n    export default {\n        name: 'App',\n        components: {Mheader},\n    }\n</script>\n\n<style scoped lang=\"stylus\">\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('mheader'),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-321a2c28\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-321a2c28\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-321a2c28\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-321a2c28\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport Router from 'vue-router';\n\nVue.use(Router);\n\nexport default new Router({\n    routes: [\n        {path: '/404', component: () => import('@/page/404')},\n        {\n            path: '/login',\n            name: '登录',\n            component: () => import('@/page/login/login'),\n            meta: {id: 1}\n        },\n        {\n            path: '/resetPwd',\n            name: '重置密码',\n            component: () => import('@/page/login/reset-pwd'),\n        },\n        {\n            path: '/',\n            name: '首页',\n            component: () => import('@/page/index'),\n            meta: {id: 5}\n        },\n        {\n            path: '/purchaseOrder',\n            name: '采购订单',\n            component: () => import('@/page/purchase-order'),\n            meta: {id: 6}\n        },\n        {\n            path: '/purchaseOrder/details',\n            name: '订单详情',\n            component: () => import('@/page/purchase-order/order-details'),\n            meta: {id: 6},\n        },\n        //发票\n        {\n            path: '/invoice',\n            name: '发票管理',\n            component: () => import('@/page/invoice'),\n            meta: {id: 7}\n        },\n        {\n            path: '/invoice/invoiceDetails',\n            name: '发票详情',\n            component: () => import('@/page/invoice/invoice-details'),\n            meta: {id: 7}\n        },\n        {\n            path: '/invoice/createPoSele',\n            name: '发票创建',\n            component: () => import('@/page/invoice/create-po-sele'),\n            meta: {id: 7}\n        },\n        {\n            path: '/invoice/createDetails',\n            name: '发票创建详情',\n            component: () => import('@/page/invoice/create-details'),\n            meta: {id: 7}\n        },\n        {\n            path: '/beforemoney',\n            name: '贴现申请',\n            component: () => import('@/page/before-money'),\n            meta: {id:8}\n        },\n        {\n            path: '/plan',\n            name: '资金计划',\n            component: () => import('@/page/money-plan'),\n            meta: {id: 9}\n        },\n        {\n            path: '/due',\n            name: '应收账款',\n            component: () => import('@/page/due-money'),\n            meta: {id: 10}\n        },\n        {\n            path: '/message',\n            name: '消息',\n            component: () => import('@/page/message'),\n        },\n        {\n            path: '/setting',\n            name: '设置',\n            component: () => import('@/page/setting'),\n            meta: {id: 2}\n        },\n        { path: '*', redirect: '/404'}\n    ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import router from './router'\nimport store from './store'\nimport {Message} from 'element-ui'\nimport {getToken} from '@/common/js/auth' // getToken from cookie\nimport {nav, rolesNav} from \"@/components/header/config\";\n\nrouter.beforeEach((to, from, next) => {\n    if (getToken()) {\n        if (to.path === '/login') {\n            next({path: '/'});\n        } else {\n            if (store.getters.roles == '') {\n                store.dispatch('userInfo').then( res => {\n                    console.log(res);\n                    const role_id = res.data.role_id;\n                    store.dispatch('pushNav', role_id).then(() => {\n                        next();\n                    });\n                })\n            } else {\n                next();\n            }\n        }\n    } else {\n        if (to.path === '/login') {\n            next();\n        } else {\n            next('/login') // 否则全部重定向到登录页\n        }\n    }\n})\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/router-intercept.js","import Vue from 'vue';\nimport App from './App'; //首页模版\nimport router from './router'; //路由\nimport store from './store'\nimport ElementUI from 'element-ui'; //ui组件\nimport 'element-ui/lib/theme-chalk/index.css';//ui-css\nimport '@/router-intercept'\nimport './common/stylus/index.styl'\nimport VueLazy from 'vue-lazyload'; //懒加载图片\nVue.config.productionTip = false;\nVue.use(ElementUI); //使用ui组件\n//使用懒加载\nVue.use(VueLazy, {\n    preLoad: 1.3,\n    attempt: 1\n})\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","const RES_CODE = 0; //请求成功code\nconst ERR_CODE = {\n    LOGIN_CODE: -999\n}\n//请求表格参数\nconst TABLE = {\n    pageSize: 50\n}\nexport { RES_CODE , TABLE , ERR_CODE};\n\n\n// WEBPACK FOOTER //\n// ./src/api/config.js"],"sourceRoot":""}